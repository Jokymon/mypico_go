<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Modifications &mdash; PicoGo MyBot 0.1 documentation</title><link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="IR protocol basics" href="knowhow/ir_protocol.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> PicoGo MyBot
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="hardware.html">PicoGo Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">mybot</a></li>
<li class="toctree-l1"><a class="reference internal" href="knowhow/index.html">Know-how</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Modifications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#beeper-with-changeable-frequencies">Beeper with changeable frequencies</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PicoGo MyBot</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Modifications</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/modifications.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="modifications">
<h1>Modifications<a class="headerlink" href="#modifications" title="Permalink to this headline">¶</a></h1>
<p>In this section I describe modifications I successfully made on my PicoGo robot to
(hopefully) improve the functionality of the robot. Implement them on your own risk.</p>
<div class="section" id="beeper-with-changeable-frequencies">
<h2>Beeper with changeable frequencies<a class="headerlink" href="#beeper-with-changeable-frequencies" title="Permalink to this headline">¶</a></h2>
<p>The built-in buzzer unfortunately can only buzz on one specific frequency and also
is quiet loud. Therefore I decided to try and replace it with a passive buzzer
that can be modulated. From another project, I knew a type of buzzer that should
work with 3.3V MCUs. The device is a muRata PKMCS0909E4000-R1.</p>
<p>These are the changes in the schema that I made:</p>
<a class="reference internal image-reference" href="_images/modification_buzzer_schema.png"><img alt="Schema change for the passive buzzer" src="_images/modification_buzzer_schema.png" style="width: 49%;" /></a>
<p>I removed the existing active buzzer and soldered two small wires in place. The
buzzer itself is then only soldered to these wires and not fixed otherwise. It
is very light and I hope to get away with it. This is done on the top of board
and can be seen in the first picture. On the bottom I needed to solder another
wire to connect the buzzer directly to the GPIO4 on pin 6 and circumvent the
transistor Q3 and the resistors R34 and R35. This can be seen on the second
image.</p>
<a class="reference internal image-reference" href="_images/modification_buzzer_1.png"><img alt="Mounting of the buzzer on the board top" src="_images/modification_buzzer_1.png" style="width: 49%;" /></a>
<a class="reference internal image-reference" href="_images/modification_buzzer_2.png"><img alt="Connection of the buzzer on the underside" src="_images/modification_buzzer_2.png" style="width: 49%;" /></a>
<p>Now the passive buzzer can be controlled using the PWM with code similar to the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">machine</span> <span class="kn">import</span> <span class="n">Pin</span><span class="p">,</span> <span class="n">PWM</span>
<span class="kn">from</span> <span class="nn">utime</span> <span class="kn">import</span> <span class="n">sleep</span>

<span class="n">buzzer</span> <span class="o">=</span> <span class="n">PWM</span><span class="p">(</span><span class="n">Pin</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">play_tone</span><span class="p">(</span><span class="n">frequency</span><span class="p">):</span>
    <span class="n">buzzer</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
    <span class="n">buzzer</span><span class="o">.</span><span class="n">freq</span><span class="p">(</span><span class="n">frequency</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">be_quiet</span><span class="p">():</span>
    <span class="n">buzzer</span><span class="o">.</span><span class="n">duty_u16</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
    <span class="n">play_tone</span><span class="p">(</span><span class="mi">440</span><span class="p">)</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>
    <span class="n">be_quiet</span><span class="p">()</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mf">0.75</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="knowhow/ir_protocol.html" class="btn btn-neutral float-left" title="IR protocol basics" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Silvan Wegmann.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>